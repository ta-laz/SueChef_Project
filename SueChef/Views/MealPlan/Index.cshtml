<!-- VIEW FOR ALL MEAL PLANS -->


<form asp-action="Create" asp-controller="MealPlan" method="post" id="newplan-form"
    data-testid="newplan-form" label="newplan form" class="hidden">
    @Html.AntiForgeryToken()
    <input type="text" name="MealPlanTitle" label="newplan name" id="newplan-name-input" data-testid="newplan-name-input"
        class="border border-gray-300 rounded-md p-2 w-full" placeholder="New Meal Plan" />
    <button type="button" id="cancel-newplan"
        class="bg-gray-300 text-gray-800 text-sm w-36 px-4 py-2 rounded-md hover:bg-gray-400 mt-2"> Cancel
    </button>
    <button id="submit-newplan" data-testid="submit-newplan" type="submit"
        class="bg-orange-600 text-white text-sm font-medium w-36 px-4 py-2 rounded-md hover:bg-orange-400 mt-2">Save
    </button>
</form>

<button id="add-newplan" class="text-orange-500 text-sm mt-4 rounded-md hover:underline transition">
    Add Meal Plan
</button>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Create New Meal Plan
        const button = document.getElementById('add-newplan');
        const form = document.getElementById('newplan-form');
        const cancel = document.getElementById("cancel-newplan");

        if (button && form && cancel) {
            button.addEventListener('click', () => {
                form.classList.remove('hidden');
                button.classList.add('hidden');
            });

            cancel.addEventListener('click', () => {
                form.classList.add('hidden');
                button.classList.remove('hidden');
            });
        }
    });
</script>